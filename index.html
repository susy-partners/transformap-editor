<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SUSY-Editor</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
    <script src="vendor.js"></script>
    <script src="app.js"></script>
    <script>require('initialize')</script>
    <script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    <script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
    <script>
      if(! Modernizr.promises) {
        document.write('<script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></sc' + 'ript>')
        document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.2/fetch.min.js"></sc' + 'ript>')
      }
    </script>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="vendor.css">
  </head>
  <body>
    <div id="forms">
      <h1>SUSY-Editor</h1>
      <form>
        <fieldset class="no-padding">
          <div class="row" id="menu"><a class="btn btn-default" href="https://susy-partners.github.io/transformap-viewer/editable.html?background=mapnik#5/50.458/10.261" id="gotomap" target="_blank">→ Go to Map</a><a class="btn btn-default" href="https://github.com/TransforMap/transformap-editor/blob/master/HELP.md" id="help" target="_blank">Help</a><a class="btn btn-success" href="." id="newbutton" title="Create a new POI">New</a><a class="btn btn-danger" href="" id="resetbutton">Reset</a></div>
        </fieldset>
        <fieldset id="address">
          <legend>Name and address</legend>
          <div class="row" id="name">
            <label for="_key_name">Name</label>
            <input class="form-control" type="text" id="_key_name">
          </div>
          <div class="row">
            <label for="_key_addr:country">Country</label>
            <input class="form-control" type="text" id="_key_addr:country">
          </div>
          <div class="row">
            <label for="_key_addr:city">City</label>
            <input class="form-control" type="text" id="_key_addr:city">
          </div>
          <div class="row">
            <label for="_key_addr:postcode">Postcode</label>
            <input class="form-control" type="text" id="_key_addr:postcode">
          </div>
          <div class="row">
            <label for="_key_addr:street">Street Name</label>
            <input class="form-control" type="text" id="_key_addr:street">
          </div>
          <div class="row">
            <label for="_key_addr:housenumber">House Number</label>
            <input class="form-control" type="text" id="_key_addr:housenumber">
          </div>
          <!--fixme add support for addr:housename and addr:place-->
          <div class="row" style="margin-top:1em">
            <label>Search for Coordinates from Address</label>
            <button class="btn btn-success" type="button" id="coordsearch">Go!</button>
            <Search>using OpenStreetMap</Search>
          </div>
          <div class="row" style="margin-top:1em">
            <label for="_geometry_lon" title="X, WGS84, decimal degree">Longitude</label>
            <input class="form-control" type="text" id="_geometry_lon">
          </div>
          <div class="row">
            <label for="_geometry_lat" title="Y, WGS84, decimal degree">Latitude</label>
            <input class="form-control" type="text" id="_geometry_lat">
            <!--TODO add reset coords button-->
          </div>
        </fieldset>
        <fieldset>
          <legend>Description</legend>
          <div class="row">
            <label for="_key_description">Description text</label>
            <textarea class="form-control" id="_key_description" rows="6"></textarea>
            <!--fixme different langs for description-->
          </div>
          <div class="row" id="toi">
            <label for="_key_type_of_initiative">Type of Initiative</label>
            <select class="selectpicker show-tick" id="_key_type_of_initiative" multiple size="5" data-live-search="true">
              <option value="">== Choose at least one type of initiative ==</option>
            </select>
          </div>
          <div class="row">
            <label for="_key_SSEDAS_PARTNER">SUSY Partner</label>
            <select class="form-control" id="_key_SSEDAS_PARTNER" name="SSEDAS_PARTNER">
              <option value="yes" selected="selected">Default</option>
              <option value="BILS">BILSP</option>
              <option value="CARDET">CARDET</option>
              <option value="CERAI">CERAI</option>
              <option value="COSPE">COSPE</option>
              <option value="Demnet">Demnet</option>
              <option value="Desa">DEŠA-Dubrovnik</option>
              <option value="Ekumenickaakademie">Ekumenika Akademie Praha Europe</option>
              <option value="FTH">Fair Trade Hellas</option>
              <option value="FairTradePoland">Foundation of the Fair Trade Coalition</option>
              <option value="greenliberty">Green Liberty</option>
              <option value="INKOTA">INKOTA</option>
              <option value="IMVF">Instituto Marques de Valle Flor  (IMFV)</option>
              <option value="Kopin">KOPIN</option>
              <option value="MirovniInstitut">Mirovni Institut</option>
              <option value="Mondo">NGO Mondo</option>
              <option value="Eetti">Pro Ethical Trade Finland</option>
              <option value="RHSF">Ressources Humaines Sans Frontières</option>
              <option value="SCCD">Slovak Centre for Communication  and Development</option>
              <option value="SOSFAIM">SOS FAIM</option>
              <option value="Suedwind">Südwind</option>
              <option value="TERRAIII">Terra III Mileniul III Foundation</option>
              <option value="CCUK">The Cooperative College</option>
              <option value="ThinkGlobal">Think Global</option>
              <option value="Waterford">Waterford One World Centre</option>
            </select>
          </div>
        </fieldset>
        <fieldset>
          <legend>Contact Data</legend>
          <div class="row">
            <label for="_key_contact:website">Website</label>
            <input class="form-control" type="text" id="_key_contact:website">
          </div>
          <div class="row">
            <label for="_key_contact:email">Email Address</label>
            <input class="form-control" type="text" id="_key_contact:email">
          </div>
          <div class="row">
            <label for="_key_contact:phone">Phone Number</label>
            <input class="form-control" type="text" id="_key_contact:phone">
          </div>
          <div class="row">
            <label for="_key_opening_hours">Opening Hours</label>
            <input class="form-control" type="text" id="_key_opening_hours">
          </div>
          <!--fixme allow more than one field for each type-->
        </fieldset>
        <fieldset>
          <legend>Additional Information</legend>
          <div class="row">
            <label for="_key_image">Link to image</label>
            <input class="form-control" type="text" id="_key_image"><span>&nbsp;Upload&nbsp;</span><a href="https://base.transformap.co/wiki/Special:Upload" target="_blank">here</a><span>.</span>
          </div>
          <div class="row">
            <label for="_key_video">Link to video</label>
            <input class="form-control" type="text" id="_key_video">
          </div>
        </fieldset>
        <fieldset id="freetags">
          <legend>Free Tags</legend>
          <!--fixme must add additional fields when user fills one-->
          <div class="row header">
            <p>Key</p>
            <p>Value</p>
            <button class="btn btn-success" type="button" id="plus">Add</button>
          </div>
          <div class="row">
            <input class="form-control" type="text" id="key1" name="freetags">
            <input class="form-control" type="text" id="value1" name="freetags">
          </div>
        </fieldset>
        <fieldset>
          <legend>Object information</legend>
          <div class="row" id="id">
            <label for="_id">Object ID</label>
            <input class="form-control" type="text" id="_id" disabled="true">
            <div class="row" id="deleted">{{{ This object is in 'deleted' state. To undelete, click 'Save' }}}</div>
          </div>
        </fieldset>
      </form>
      <button class="btn btn-danger btn-sm" type="button" id="delete">Delete POI</button>
      <button class="btn btn-success btn-lg" type="button" id="save">Save</button>
    </div>
    <div id="map"></div>
  </body>
</html>